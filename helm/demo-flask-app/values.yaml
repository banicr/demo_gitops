# Default values for demo-flask-app
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 2
image:
  repository: ghcr.io/banicr/demo-flask-app
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "dc133a0-48"
imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  name: "demo-flask-app"
podAnnotations: {}
podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
# Graceful shutdown configuration (should be > graceful-timeout in gunicorn)
terminationGracePeriodSeconds: 40
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true
service:
  type: ClusterIP
  port: 80
  targetPort: 5000
  protocol: TCP
ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: demo-flask-app.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
resources:
  limits:
    cpu: 1000m
    memory: 512Mi
  requests:
    cpu: 200m
    memory: 256Mi
livenessProbe:
  httpGet:
    path: /healthz/live
    port: http
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 3
  failureThreshold: 3
readinessProbe:
  httpGet:
    path: /healthz/ready
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3
autoscaling:
  enabled: false
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80
nodeSelector: {}
tolerations: []
affinity: {}
# Network Policy configuration
networkPolicy:
  enabled: true
  ingress:
    enabled: false
    # Configure this if you have an ingress controller
    namespaceSelector:
      kubernetes.io/metadata.name: ingress-nginx
  egress:
    allowExternal: true
# Application-specific environment variables
env:
  appName: "Demo Flask App"
  appVersion: "dc133a0-48"
